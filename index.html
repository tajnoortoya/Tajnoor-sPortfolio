<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Personal Portfolio</title>
    <link href="style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="header">
        <div class="container">
            <nav>
                <img src="Photos/logo.png" height="30" width="200" class="logo" />
                <ul>
                    <li><a href="#header">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            <div class="header-content">
                <div class="header-text">
                    <p>My portfolio</p>
                    <h1>Hi, I'm Tajnoor Sultana.</h1>
                    <h1>Android app,Web app designer</h1>
                </div>
            </div>
        </div>


    </div>


    <div id="about">
        <div class="container">
            <div class="row">
                <div class="about-col-1">
                    <img src="Photos/user.jpg" height="570" width="450" alt="Tajnoor Sultana">
                </div>
                <div class="about-col-2">
                    <h1 class="sub-title">About Me</h1>
                    <p>
                        I'm currently studying Computer Science and Engineering student at <strong>Khulna University of Engineering & Technology (KUET)</strong>.
                        With a strong interest in <strong>software development and Android applications</strong>, I love solving problems
                        and building projects that make life easier and more meaningful.Beyond coding, I enjoy exploring new technologies, working on creative
                        web designs, and continuously improving my skills in
                        <strong>web programming, databases, and modern frameworks</strong>.
                        My goal is to grow as a <strong>skilled software engineer</strong> and contribute to innovative solutions
                        in the tech world.
                    </p>
                    <div class="tab-titles" id="tab-titles">
                        <p class="tab-links active-link" onclick="opentab('skills', event)">Skills</p>
                        <p class="tab-links" onclick="opentab('experience', event)">Experience</p>
                        <p class="tab-links" onclick="opentab('education', event)">Education</p>
                    </div>
                    <div class="tab-contents active-tab" id="skills">
                        <ul>
                            <li><span>UI/UX</span><br>Designing Web/App interfaces</li>
                            <li><span>Web Development</span><br>Web App Development</li>
                            <li><span>App Development</span><br>Building Android apps</li>
                            <li><span>Programming Languages:</span><br>C,C++,C#,Java,Javascript,ASP,PHP,Python,Dart</li>
                        </ul>
                    </div>
                    <div class="tab-contents" id="experience">
                        <ul>
                            <li><span>Projects</span><br>→ For academics<br>→ Bit2Byte<br>→ Hackathon</li>
                            <li><span>Contest Programming</span><br>→ SGIPC<br>→ IUPC</li>
                        </ul>
                    </div>
                    <div class="tab-contents" id="education">
                        <ul>
                            <li><span>SSC(2019)</span><br>Agricultural University High School,Mymensingh</li>
                            <li><span>HSC(2021)</span><br>Agricultural University College,Mymensingh</li>
                            <li><span>BSc in CSE(2023-2027)</span><br>Khulna University of Engineering & Technology (KUET)</li>
                            <li><span>Certifications</span><br>Various online courses in programming and design</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="projects">
        <div class="projects-container">
            <h1 class="section-title">My Projects</h1>

            <!-- Admin Controls (only visible when logged in) -->
            <div id="adminControls" class="admin-controls" style="display: none;">
                <button class="add-project-btn" onclick="showProjectModal()">
                    <i class="fas fa-plus"></i> Add New Project
                </button>
            </div>

            <!-- Projects will be loaded here dynamically -->
            <div id="projectsGrid" class="projects-grid">
                <div class="loading-spinner">
                    <div class="spinner"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Project Modal (for add/edit) -->
    <div id="projectModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeProjectModal()">&times;</span>
            <h2 id="modalTitle">Add New Project</h2>
            <form id="projectForm">
                <input type="hidden" id="projectId" value="0">
                <div class="form-group">
                    <label for="projectTitle">Title</label>
                    <input type="text" id="projectTitle" required>
                </div>
                <div class="form-group">
                    <label for="projectDescription">Description</label>
                    <textarea id="projectDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label for="projectImageUrl">Image URL</label>
                    <input type="text" id="projectImageUrl">
                </div>
                <div class="form-group">
                    <label for="projectGithubUrl">GitHub URL</label>
                    <input type="text" id="projectGithubUrl">
                </div>
                <div class="form-group">
                    <label for="projectDetailsUrl">Details URL</label>
                    <input type="text" id="projectDetailsUrl">
                </div>
                <button type="submit" class="submit-btn">Save Project</button>
            </form>
        </div>
    </div>
    <script>
        // Global variables
        let projects = [];
        let isAdmin = false;

        // Check if user is admin (you'll need to implement your own authentication logic)
        function checkAdminStatus() {
            // This is a placeholder - implement your actual admin check
            // For example, you might check for an admin cookie or session
            const adminCookie = document.cookie.split('; ').find(row => row.startsWith('AdminAuth='));
            isAdmin = !!adminCookie;

            if (isAdmin) {
                document.getElementById('adminControls').style.display = 'block';
            }
        }

        // Load projects from database
        async function loadProjects() {
            try {
                const response = await fetch('GetProjects.aspx');
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                projects = await response.json();
                renderProjects();
            } catch (error) {
                console.error('Error loading projects:', error);
                document.getElementById('projectsGrid').innerHTML = `
                        <div class="error-message">
                            <p>Failed to load projects. Please try again later.</p>
                            <button onclick="loadProjects()" style="margin-top: 10px; padding: 8px 15px; background: #ff004f; color: white; border: none; border-radius: 5px; cursor: pointer;">Retry</button>
                        </div>
                    `;
            }
        }

        // Render projects to the page
        function renderProjects() {
            const projectsGrid = document.getElementById('projectsGrid');

            if (projects.length === 0) {
                projectsGrid.innerHTML = `
                        <div class="error-message">
                            <p>No projects found.</p>
                        </div>
                    `;
                return;
            }

            projectsGrid.innerHTML = projects.map(project => `
                    <div class="project-card" data-id="${project.Id}">
                        ${isAdmin ? `
                        <div class="project-actions">
                            <button class="project-action-btn edit" onclick="editProject(${project.Id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="project-action-btn delete" onclick="deleteProject(${project.Id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        ` : ''}
                        <div class="project-img">
                            <img src="${project.ImageUrl || 'https://via.placeholder.com/400x250/222222/666666?text=Project+Image'}" alt="${project.Title}">
                        </div>
                        <div class="project-info">
                            <h3 class="project-title">${project.Title}</h3>
                            <p class="project-desc">${project.Description}</p>
                            <div class="project-links">
                                <a href="${project.DetailsUrl || '#'}" class="project-link">View Details</a>
                                ${project.GithubUrl ? `
                                <a href="${project.GithubUrl}" class="github-icon" target="_blank">
                                    <i class="fab fa-github"></i>
                                </a>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
        }

        // Show project modal for adding/editing
        function showProjectModal(projectId = 0) {
            const modal = document.getElementById('projectModal');
            const modalTitle = document.getElementById('modalTitle');
            const form = document.getElementById('projectForm');

            if (projectId > 0) {
                // Edit existing project
                modalTitle.textContent = 'Edit Project';
                const project = projects.find(p => p.Id === projectId);
                if (project) {
                    document.getElementById('projectId').value = project.Id;
                    document.getElementById('projectTitle').value = project.Title;
                    document.getElementById('projectDescription').value = project.Description;
                    document.getElementById('projectImageUrl').value = project.ImageUrl || '';
                    document.getElementById('projectGithubUrl').value = project.GithubUrl || '';
                    document.getElementById('projectDetailsUrl').value = project.DetailsUrl || '';
                }
            } else {
                // Add new project
                modalTitle.textContent = 'Add New Project';
                form.reset();
                document.getElementById('projectId').value = '0';
            }

            modal.style.display = 'block';
        }

        // Close project modal
        function closeProjectModal() {
            document.getElementById('projectModal').style.display = 'none';
        }

        // Save project (add or update)
        async function saveProject(event) {
            event.preventDefault();

            const projectId = document.getElementById('projectId').value;
            const projectData = {
                Title: document.getElementById('projectTitle').value,
                Description: document.getElementById('projectDescription').value,
                ImageUrl: document.getElementById('projectImageUrl').value,
                GithubUrl: document.getElementById('projectGithubUrl').value,
                DetailsUrl: document.getElementById('projectDetailsUrl').value
            };

            try {
                const url = projectId > 0 ? 'UpdateProject.aspx' : 'AddProject.aspx';
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        id: projectId,
                        ...projectData
                    })
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const result = await response.json();
                if (result.success) {
                    closeProjectModal();
                    loadProjects(); // Reload projects
                } else {
                    alert('Error saving project: ' + result.message);
                }
            } catch (error) {
                console.error('Error saving project:', error);
                alert('Failed to save project. Please try again.');
            }
        }

        // Delete project
        async function deleteProject(projectId) {
            if (!confirm('Are you sure you want to delete this project?')) {
                return;
            }

            try {
                const response = await fetch('DeleteProject.aspx', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ id: projectId })
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                const result = await response.json();
                if (result.success) {
                    loadProjects(); // Reload projects
                } else {
                    alert('Error deleting project: ' + result.message);
                }
            } catch (error) {
                console.error('Error deleting project:', error);
                alert('Failed to delete project. Please try again.');
            }
        }

        // Edit project
        function editProject(projectId) {
            showProjectModal(projectId);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function () {
            checkAdminStatus();
            loadProjects();
            document.getElementById('projectForm').addEventListener('submit', saveProject);

            // Close modal when clicking outside
            window.addEventListener('click', function (event) {
                const modal = document.getElementById('projectModal');
                if (event.target === modal) {
                    closeProjectModal();
                }
            });
        });
    </script>

    <!-- Admin Icon -->
    <div class="admin-icon" onclick="redirectToLogin()">
        <i class="fas fa-lock"></i>
    </div>

    <!-- Contact Section -->
    <section id="contact">
        <h1 class="section-title">Contact Me</h1>

        <div class="contact-container">
            <div class="contact-info">
                <h3>Let's Get In Touch</h3>
                <p>I'm currently available for freelance work or full-time opportunities. If you have a project that you want to get started or think you need my help with something, then get in touch.</p>

                <div class="contact-details">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Location</h4>
                            <p>Khulna, Bangladesh</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Email</h4>
                            <p>tajnoortoya@gmail.com</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-text">
                            <h4>Phone</h4>
                            <p>+880 1910747866</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="contact-form">
                <h3 class="form-title">Send Me a Message</h3>
                <form id="contactForm">
                    <div class="input-group">
                        <label for="name">Your Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>

                    <div class="input-group">
                        <label for="email">Your Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="input-group">
                        <label for="subject">Subject</label>
                        <input type="text" id="subject" name="subject" required>
                    </div>

                    <div class="input-group">
                        <label for="message">Your Message</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>

                    <button type="submit" class="submit-btn">Send Message</button>
                </form>
            </div>
        </div>

        <div class="social-links">
            <h3>Follow Me On</h3>
            <div class="social-icons">
                <a href="https://www.facebook.com/taffy.muhammad" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="https://x.com/Demon_slayer_TS" target="_blank"><i class="fab fa-twitter"></i></a>
                <a href="https://www.instagram.com/taj_noor_tst/" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://www.linkedin.com/in/tajnoor-toya-26b940308/" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                <a href="https://github.com/tajnoortoya" target="_blank"><i class="fab fa-github"></i></a>
            </div>
        </div>
    </section>

    <!-- Cookies Consent Banner -->
    <div id="cookiesConsent" class="cookies-banner">
        <div class="cookies-container">
            <div class="cookies-content">
                <h3>🍪 We Use Cookies</h3>
                <p>We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. You can manage your preferences in settings.</p>
                <div class="cookies-preferences">
                    <div class="cookie-option">
                        <input type="checkbox" id="necessaryCookies" checked disabled>
                        <label for="necessaryCookies">Necessary</label>
                        <span class="cookie-desc">Essential for the website to function properly</span>
                    </div>
                    <div class="cookie-option">
                        <input type="checkbox" id="analyticsCookies">
                        <label for="analyticsCookies">Analytics</label>
                        <span class="cookie-desc">Helps us improve our website</span>
                    </div>
                    <div class="cookie-option">
                        <input type="checkbox" id="marketingCookies">
                        <label for="marketingCookies">Marketing</label>
                        <span class="cookie-desc">Used to deliver relevant advertisements</span>
                    </div>
                </div>
            </div>
            <div class="cookies-actions">
                <button id="acceptAllCookies" class="cookies-btn accept-btn">Accept All</button>
                <button id="savePreferences" class="cookies-btn save-btn">Save Preferences</button>
                <button id="rejectAllCookies" class="cookies-btn reject-btn">Reject All</button>
            </div>
        </div>
    </div>

    <script>
        // Enhanced animations and interactions
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize animations
            initAnimations();

            // Initialize mobile menu
            initMobileMenu();

            // Initialize smooth scrolling
            initSmoothScrolling();

            // Initialize intersection observers for scroll animations
            initScrollAnimations();

            // Initialize page transition effects
            initPageTransitions();

            // Initialize interactive elements
            initInteractiveElements();

            // Initialize cookies consent
            initCookiesConsent();
        });

        // Initialize all animations
        function initAnimations() {
            // Animate elements on load
            const animatedElements = document.querySelectorAll('.header-text, .about-col-1, .about-col-2');
            animatedElements.forEach(el => {
                el.style.opacity = '0';
                setTimeout(() => {
                    el.style.transition = 'opacity 1s ease, transform 1s ease';
                    el.style.opacity = '1';
                }, 100);
            });

            // Add hover effect to project cards
            const projectCards = document.querySelectorAll('.project-card');
            projectCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-10px) scale(1.02)';
                    card.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.3)';
                });

                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0) scale(1)';
                    card.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.2)';
                });
            });

            // Animate skill bars
            animateSkillBars();
        }

        // Initialize mobile menu functionality
        function initMobileMenu() {
            const menuToggle = document.createElement('button');
            menuToggle.className = 'menu-toggle';
            menuToggle.innerHTML = '<span></span><span></span><span></span>';

            const nav = document.querySelector('nav');
            nav.appendChild(menuToggle);

            const navList = document.querySelector('nav ul');

            menuToggle.addEventListener('click', function () {
                this.classList.toggle('active');
                navList.classList.toggle('active');
                document.body.style.overflow = navList.classList.contains('active') ? 'hidden' : '';
            });

            // Close menu when clicking on links
            const navLinks = document.querySelectorAll('nav ul li a');
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    menuToggle.classList.remove('active');
                    navList.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });
        }

        // Initialize smooth scrolling
        function initSmoothScrolling() {
            const navLinks = document.querySelectorAll('nav ul li a');

            navLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    if (targetId.startsWith('#')) {
                        const targetSection = document.querySelector(targetId);
                        if (targetSection) {
                            const offsetTop = targetSection.offsetTop - 80;

                            window.scrollTo({
                                top: offsetTop,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });
        }

        // Initialize scroll animations
        function initScrollAnimations() {
            const animatedSections = document.querySelectorAll('#about, #projects, #contact');

            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'enhancedFadeIn 1s forwards';
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            animatedSections.forEach(section => {
                observer.observe(section);
            });

            // Animate elements within sections when they come into view
            const elementsToAnimate = document.querySelectorAll('.project-card, .tab-contents, .contact-item');

            const elementObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'enhancedFadeInUp 0.8s forwards';
                        elementObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            elementsToAnimate.forEach(el => {
                elementObserver.observe(el);
            });
        }

        // Initialize page transition effects
        function initPageTransitions() {
            // Add fade-in effect to page load
            document.body.style.opacity = '0';
            setTimeout(() => {
                document.body.style.transition = 'opacity 0.5s ease';
                document.body.style.opacity = '1';
            }, 100);
        }

        // Initialize interactive elements
        function initInteractiveElements() {
            // Add ripple effect to buttons
            const buttons = document.querySelectorAll('.submit-btn, .login-btn, .cookies-btn');
            buttons.forEach(button => {
                button.addEventListener('click', function (e) {
                    const x = e.clientX - e.target.offsetLeft;
                    const y = e.clientY - e.target.offsetTop;

                    const ripple = document.createElement('span');
                    ripple.classList.add('ripple');
                    ripple.style.left = `${x}px`;
                    ripple.style.top = `${y}px`;

                    this.appendChild(ripple);

                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });

            // Add typing animation to header text
            typeWriter();
        }

        // Typing animation for header text
        function typeWriter() {
            const headerText = document.querySelector('.header-text h1');
            if (!headerText) return;

            const text = headerText.innerHTML;
            headerText.innerHTML = '';

            let i = 0;
            const speed = 50;

            function type() {
                if (i < text.length) {
                    headerText.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                }
            }

            // Start typing after a short delay
            setTimeout(type, 1000);
        }

        // Animate skill bars
        function animateSkillBars() {
            const skillsTab = document.getElementById('skills');
            if (!skillsTab) return;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const skills = entry.target.querySelectorAll('li');
                        skills.forEach((skill, index) => {
                            skill.style.opacity = '0';
                            skill.style.transform = 'translateX(-20px)';

                            setTimeout(() => {
                                skill.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                                skill.style.opacity = '1';
                                skill.style.transform = 'translateX(0)';
                            }, index * 200);
                        });

                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            observer.observe(skillsTab);
        }

        // Enhanced tab switching with animation
        function opentab(tabname, evt) {
            const tablinks = document.getElementsByClassName("tab-links");
            const tabcontents = document.getElementsByClassName("tab-contents");

            for (let tablink of tablinks) {
                tablink.classList.remove("active-link");
            }

            for (let tabcontent of tabcontents) {
                tabcontent.style.animation = 'enhancedFadeIn 0.5s forwards';
                tabcontent.classList.remove("active-tab");
            }

            evt.currentTarget.classList.add("active-link");
            const activeTab = document.getElementById(tabname);
            activeTab.classList.add("active-tab");

            // Add entrance animation
            activeTab.style.animation = 'enhancedFadeIn 0.5s forwards';
        }

        // Redirect to ASP.NET login page
        function redirectToLogin() {
            window.location.href = 'Login.aspx';
        }

        // Form validation and submission
        document.getElementById('contactForm').addEventListener('submit', function (e) {
            e.preventDefault();

            // Basic form validation
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;

            if (name && email && subject && message) {
                // Create form data object
                const formData = new FormData();
                formData.append('name', name);
                formData.append('email', email);
                formData.append('subject', subject);
                formData.append('message', message);

                // Send to ASP.NET backend
                fetch('SaveMessage.aspx', {
                    method: 'POST',
                    body: formData
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert('Thank you for your message! I will get back to you soon.');
                            document.getElementById('contactForm').reset();
                        } else {
                            alert('There was an error sending your message. Please try again.');
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('There was an error sending your message. Please try again.');
                    });
            } else {
                alert('Please fill in all fields.');
            }
        });

        // Cookies consent functions
        function initCookiesConsent() {
            // Check if user has already made a choice
            if (!getCookie('cookies_consent')) {
                // Show banner after a short delay
                setTimeout(function () {
                    document.getElementById('cookiesConsent').style.display = 'block';
                }, 1000);
            }

            // Add settings icon
            const settingsIcon = document.createElement('div');
            settingsIcon.className = 'cookies-settings';
            settingsIcon.innerHTML = '<i class="fas fa-cookie-bite"></i>';
            settingsIcon.addEventListener('click', function () {
                document.getElementById('cookiesConsent').style.display = 'block';
            });
            document.body.appendChild(settingsIcon);

            // Set up event listeners
            document.getElementById('acceptAllCookies').addEventListener('click', function () {
                setCookiesConsent(true, true, true);
                document.getElementById('cookiesConsent').style.display = 'none';
            });

            document.getElementById('savePreferences').addEventListener('click', function () {
                const analytics = document.getElementById('analyticsCookies').checked;
                const marketing = document.getElementById('marketingCookies').checked;
                setCookiesConsent(true, analytics, marketing);
                document.getElementById('cookiesConsent').style.display = 'none';
            });

            document.getElementById('rejectAllCookies').addEventListener('click', function () {
                setCookiesConsent(true, false, false);
                document.getElementById('cookiesConsent').style.display = 'none';
            });

            // Load saved preferences
            loadSavedPreferences();
        }

        // Cookie functions
        function setCookie(name, value, days) {
            let expires = "";
            if (days) {
                const date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "") + expires + "; path=/; SameSite=Lax";
        }

        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
        }

        function setCookiesConsent(necessary, analytics, marketing) {
            // Set consent cookie that expires in 365 days
            setCookie('cookies_consent', 'true', 365);

            // Set preference cookies
            setCookie('cookies_necessary', necessary ? 'true' : 'false', 365);
            setCookie('cookies_analytics', analytics ? 'true' : 'false', 365);
            setCookie('cookies_marketing', marketing ? 'true' : 'false', 365);

            // Based on preferences, initialize services
            if (analytics) {
                initAnalytics();
            }

            if (marketing) {
                initMarketing();
            }

            // Show confirmation message
            showToast('Cookie preferences saved successfully');
        }

        function loadSavedPreferences() {
            const consent = getCookie('cookies_consent');
            if (consent) {
                const analytics = getCookie('cookies_analytics') === 'true';
                const marketing = getCookie('cookies_marketing') === 'true';

                document.getElementById('analyticsCookies').checked = analytics;
                document.getElementById('marketingCookies').checked = marketing;

                // Initialize services based on preferences
                if (analytics) {
                    initAnalytics();
                }

                if (marketing) {
                    initMarketing();
                }
            }
        }

        function initAnalytics() {
            // Initialize Google Analytics or other analytics tools here
            console.log('Analytics cookies enabled');
            // Example: gtag('config', 'GA_MEASUREMENT_ID');
        }

        function initMarketing() {
            // Initialize marketing cookies here
            console.log('Marketing cookies enabled');
        }

        function showToast(message) {
            // Create toast notification
            const toast = document.createElement('div');
            toast.className = 'cookie-toast';
            toast.innerHTML = message;
            toast.style.cssText = `
                            position: fixed;
                            bottom: 80px;
                            left: 50%;
                            transform: translateX(-50%);
                            background: rgba(25, 25, 25, 0.9);
                            color: #fff;
                            padding: 12px 20px;
                            border-radius: 8px;
                            z-index: 10001;
                            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                            animation: fadeInUp 0.5s forwards;
                        `;

            document.body.appendChild(toast);

            // Remove toast after 3 seconds
            setTimeout(function () {
                toast.style.animation = 'fadeOutDown 0.5s forwards';
                setTimeout(function () {
                    document.body.removeChild(toast);
                }, 500);
            }, 3000);
        }
    </script>
</body>
</html>